{% extends 'gestion/base.html' %}

{% block title %}Créer un compte - Rent Solution{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card shadow-sm">
                <div class="card-body p-5">
                    <h2 class="card-title text-center mb-4">Créer un compte</h2>
                    <form method="post" id="registerForm">
                        {% csrf_token %}

                        {% if form.non_field_errors %}
                            <div class="alert alert-danger">
                                {% for error in form.non_field_errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.first_name.id_for_label }}" class="form-label">{{ form.first_name.label }}</label>
                                <input type="text" name="{{ form.first_name.name }}" id="{{ form.first_name.id_for_label }}" class="form-control" value="{{ form.first_name.value|default:'' }}">
                                <div class="text-danger mt-1">{{ form.first_name.errors }}</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.last_name.id_for_label }}" class="form-label">{{ form.last_name.label }}</label>
                                <input type="text" name="{{ form.last_name.name }}" id="{{ form.last_name.id_for_label }}" class="form-control" value="{{ form.last_name.value|default:'' }}">
                                <div class="text-danger mt-1">{{ form.last_name.errors }}</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.email.id_for_label }}" class="form-label">{{ form.email.label }}</label>
                            <input type="email" name="{{ form.email.name }}" id="{{ form.email.id_for_label }}" class="form-control" value="{{ form.email.value|default:'' }}">
                            <div class="text-danger mt-1">{{ form.email.errors }}</div>
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.telephone.id_for_label }}" class="form-label">{{ form.telephone.label }}</label>
                            <input type="text" name="{{ form.telephone.name }}" id="{{ form.telephone.id_for_label }}" class="form-control" value="{{ form.telephone.value|default:'' }}">
                            <div class="text-danger mt-1">{{ form.telephone.errors }}</div>
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.addresse.id_for_label }}" class="form-label">{{ form.addresse.label }}</label>
                            <input type="text" name="{{ form.addresse.name }}" id="{{ form.addresse.id_for_label }}" class="form-control" value="{{ form.addresse.value|default:'' }}">
                            <div class="text-danger mt-1">{{ form.addresse.errors }}</div>
                        </div>
            
                        <div class="mb-3">
                            <label for="{{ form.password.id_for_label }}" class="form-label">{{ form.password.label }}</label>
                            <input type="password" name="{{ form.password.name }}" id="{{ form.password.id_for_label }}" class="form-control">
                            <div class="text-danger mt-1">{{ form.password.errors }}</div>
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.confirm_password.id_for_label }}" class="form-label">{{ form.confirm_password.label }}</label>
                            <input type="password" name="{{ form.confirm_password.name }}" id="{{ form.confirm_password.id_for_label }}" class="form-control">
                            <div class="text-danger mt-1">{{ form.confirm_password.errors }}</div>
                        </div>

                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">S'inscrire</button>
                        </div>
                    </form>
                    <div class="text-center mt-3">
                        <p>Déjà un compte ? <a href="{% url 'gestion:connexion' %}">Se connecter</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal pour les Conditions d'Utilisation -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsModalLabel">Conditions d'Utilisation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p class="lead">Dernière mise à jour : 25 Août 2024</p>
        <p>Bienvenue sur notre plateforme de gestion immobilière. En utilisant nos services, vous acceptez d'être lié par les présentes conditions d'utilisation.</p>
        <h2>1. Utilisation du Service</h2>
        <p>Vous vous engagez à utiliser le service de manière responsable et à ne pas l'utiliser à des fins illégales ou non autorisées.</p>
        <h2>2. Comptes Utilisateurs</h2>
        <p>Vous êtes responsable de la sécurité de votre compte et de votre mot de passe. L'agence n'est pas responsable des pertes ou dommages résultant de votre manquement à cette obligation de sécurité.</p>
        <h2>3. Contenu</h2>
        <p>Tout le contenu que vous publiez sur la plateforme (informations sur les biens, les propriétaires, etc.) doit être exact et ne doit pas violer les droits de tiers.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}